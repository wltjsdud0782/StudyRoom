<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="menuFragment">
    <div class="row">
        <div class="col-2 menu">
            <ul>
                <li style="margin-right: 20px; 
                    border-right: 1px solid #ccc; ">
                    <span><a class="pointer" onclick="location.href='/board/mainHomepage'"><img src="/img/homepage/greenLogo.gif" alt="그린독서실로고"></a></span>
                </li>
            </ul>
        </div>
        <div class="col-7 menu">
            <ul class="submenu">
                <li><a class="pointer" onclick="location.href='/board/mainHomepage'">홈</a></li>
                <li><a class="pointer" onclick="location.href='/board/studyInfo'">매장소개</a></li>
                <li><a class="pointer" onclick="location.href='/seat/seatLive'">좌석선택</a></li>
                <li><a class="pointer" onclick="location.href='/review/review'">리뷰</a></li>
                <li><a class="pointer" onclick="location.href='/board/inquiry'">문의</a></li>
                <li><a class="pointer" onclick="location.href='/board/wayToCome'">오시는길</a></li>
            </ul>
        </div>

        <div class="col-3 menu">
            <ul class="submenu">
                <th:block th:if="${session.loginInfo == null }">
                    <li style="margin-left: 150px;" class="pointer-span pointer" data-bs-toggle="modal"
                        data-bs-target="#join-modal">회원가입</a></li>
                    <li><a class="pointer" onclick="location.href='/member/loginForm'">로그인</a></li>
                </th:block>

                <th:block th:if="${session.loginInfo != null}">
                    <th:block th:unless="${session.loginInfo.isAdmin == 'ADMIN'}">
                        <li><span style="font-size: 17px;">[[${session.loginInfo.memberId}]]님</span></li>
                        <li><a onclick="location.href='/board/mainMyPage'" style="padding: 1px;">마이페이지</a></li>
                        <li><a onclick="location.href='/board/myCounter'" style="padding: 1px;">채팅</a></li>
                        <li><a onclick="location.href='/seat/chargeBuy'" style="padding: 1px;">이용권구매</a></li>
                        <li><a onclick="logout()" style="padding: 1px;">로그아웃</a></li>
                    </th:block>
                </th:block>

                <th:block th:if="${session.loginInfo != null}">
                    <th:block th:if="${session.loginInfo.isAdmin == 'ADMIN'}">
                        <li><span style="font-size: 17px; margin-left: 120px;">[[${session.loginInfo.memberId}]]님</span>
                        </li>
                        <li><a onclick="location.href='/admin/info'">설정</a></li>
                        <li><a onclick="logout()" style="padding: 1px;">로그아웃</a></li>
                    </th:block>
                </th:block>
            </ul>
        </div>
    </div>


    <div class="modal fade" id="join-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- 모달 바디 -->
                <div class="modal-body">
                    <form id="join-form" class="row g-3" action="/member/join" method="post">
                        <!-- 기본적으로 BOOTSTRAP은 한 줄에 col이 12개. -->
                        <div class="col-12">
                            <label for="" class="form-label">아이디</label>
                            <input type="text" name="memberId" class="form-control" id="memberId">
                        </div>
                        <div class="col-12">
                            <label for="" class="form-label">PASSWORD</label>
                            <input type="password" name="memberPw" class="form-control" id="">
                        </div>
                        <div class="col-12">
                            <label for="" class="form-label">CONFIRM PASSWORD</label>
                            <input type="password" class="form-control" id="">
                        </div>
                        <div class="col-12">
                            <label for="" class="form-label">NAME</label>
                            <input type="text" name="memberName" class="form-control" id="">
                        </div>
                        <div class="col-4">
                            <label for="" class="form-label">TEL</label>
                            <select id="" class="form-select" name="memberTel">
                                <option value="010" selected>010</option>
                                <option value="011">052</option>
                            </select>
                        </div>
                        <div class="col-4">
                            <label for="" class="form-label">&nbsp;</label>
                            <input type="text" name="memberTel" class="form-control" id="">
                        </div>
                        <div class="col-4">
                            <label for="" class="form-label">&nbsp;</label>
                            <input type="text" name="memberTel" class="form-control" id="">
                        </div>
                        <div class="col-12">
                            <label for="" class="form-label">생년월일</label>
                            <input type="date" name="memberBirth" class="form-control" id="">
                        </div>
                        <div class="col-8">
                            <label for="" class="form-label">ADDRESS</label>
                            <input type="text" name="postCode" class="form-control" id="postCode" readonly>
                        </div>
                        <div class="col-4 d-grid">
                            <label for="" class="form-label">&nbsp;</label>
                            <input type="button" class="btn btn-success" value="SEARCH" onclick="searchAddress()">
                        </div>
                        <div class="col-12">
                            <input type="text" name="memberAddr" class="form-control" id="roadAddr" readonly>
                        </div>
                        <div class="col-12">
                            <input type="text" name="addrDetail" class="form-control" id="">
                        </div>
                        <div class="col-12">
                            <label for="" class="form-label">GENDER</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memberGender" id="" value="M"
                                    checked>
                                <label class="form-check-label" for="">MALE</label>&nbsp;
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="memberGender" id="" value="W">
                                <label class="form-check-label" for="">FEMALE</label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-success">JOIN</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CLOSE</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="/js/member/join.js"></script>
</th:block>

</html>